namespace network;

table DirectMessage {
    target: uint64;
}

table BroadcastMessage {
    ids_to_exclude: [uint64];
}

union PacketType { DirectMessage, BroadcastMessage }

table NetworkPacket {
    packetType: PacketType;
    networkId: uint16;
    message: [uint8];
}

union NetworkMessagePayload {
    NetworkPacket
}

table NetworkMessage {
    version: uint8;
    timestamp: uint64;
    payload: NetworkMessagePayload;
}

file_identifier "CP2P";

root_type NetworkMessage;
